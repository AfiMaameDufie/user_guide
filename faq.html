
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>4. FAQ &#8212; Common Workflow Language User Guide 0.1 documentation</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "light";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <link rel="icon" sizes="16x16" type="image/png" href="_static/images/favicons/cwl/favicon-16x16.png" />
    <link rel="icon" sizes="32x32" type="image/png" href="_static/images/favicons/cwl/favicon-32x32.png" />
    <link rel="icon" sizes="96x96" type="image/png" href="_static/images/favicons/cwl/favicon-96x96.png" />
    <link rel="icon" sizes="128x128" type="image/png" href="_static/images/favicons/cwl/favicon-128.png" />
    <link rel="icon" sizes="196x196" type="image/png" href="_static/images/favicons/cwl/favicon-196x196.png" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. Licenses" href="LICENSE.html" />
    <link rel="prev" title="3. Tutorials" href="tutorials.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="light">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">
  
  
  
  
    <img src="_static/CWL-Logo-HD-cropped2.png" class="logo__image only-light" alt="Logo image">
    <img src="_static/CWL-Logo-HD-cropped2.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="introduction/index.html">
  1. Introduction
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="topics/index.html">
  2. Topics
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="tutorials.html">
  3. Tutorials
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="current reference internal nav-link" href="#">
  4. FAQ
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="LICENSE.html">
  5. Licenses
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links d-none d-md-block" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="introduction/index.html">
   1. Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="topics/index.html">
   2. Topics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="tutorials.html">
   3. Tutorials
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   4. FAQ
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="LICENSE.html">
   5. Licenses
  </a>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#non-file-types-using-evalfrom">
   4.1. Non ‚Äú
   <code class="docutils literal notranslate">
    <span class="pre">
     File
    </span>
   </code>
   ‚Äù types using
   <code class="docutils literal notranslate">
    <span class="pre">
     evalFrom
    </span>
   </code>
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rename-an-input-file">
   4.2. Rename an input file
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rename-an-output-file">
   4.3. Rename an output file
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-self-based-input-bindings-for-optional-inputs">
   4.4. Setting
   <code class="docutils literal notranslate">
    <span class="pre">
     self
    </span>
   </code>
   -based input bindings for optional inputs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#model-a-one-or-the-other-parameter">
   4.5. Model a ‚Äúone-or-the-other‚Äù parameter
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#connect-a-solo-value-to-an-input-that-expects-an-array-of-that-type">
   4.6. Connect a solo value to an input that expects an array of that type
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#optional-inputs">
   4.7. Optional Inputs üíØ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#enum-inputs">
   4.8. Enum Inputs ‚öúÔ∏è
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#record-inputs">
   4.9. Record Inputs üìÄ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-mutually-exclusive-parameters">
   4.10. Setting Mutually Exclusive Parameters
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-booleans">
   4.11. Setting Booleans
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#concating-strings-in-inputs">
   4.12. Concating Strings in Inputs
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cwltool-errors-due-to-filenames-with-space-characters-inside">
   4.13.
   <code class="docutils literal notranslate">
    <span class="pre">
     cwltool
    </span>
   </code>
   errors due to filenames with space characters inside
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#cwl-parameter-reference-error-due-to-hyphen-in-input-identifier">
   4.14. CWL Parameter Reference error due to hyphen in input identifier
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#use-cwl-and-cwltool-with-singularity">
   4.15. Use CWL and cwltool with Singularity
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#debug-javascript-expressions">
   4.16. Debug JavaScript expressions
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      

<div class="tocsection editthispage">
    <a href="https://github.com/common-workflow-language/user_guide/edit/main/faq.md">
        <i class="fas fa-pencil-alt"></i> Edit this page
    </a>
</div>

    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="faq">
<h1><span class="section-number">4. </span>FAQ<a class="headerlink" href="#faq" title="Permalink to this heading">#</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#non-file-types-using-evalfrom" id="id1">Non ‚Äú<code class="docutils literal notranslate"><span class="pre">File</span></code>‚Äù types using <code class="docutils literal notranslate"><span class="pre">evalFrom</span></code></a></p></li>
<li><p><a class="reference internal" href="#rename-an-input-file" id="id2">Rename an input file</a></p></li>
<li><p><a class="reference internal" href="#rename-an-output-file" id="id3">Rename an output file</a></p></li>
<li><p><a class="reference internal" href="#setting-self-based-input-bindings-for-optional-inputs" id="id4">Setting <code class="docutils literal notranslate"><span class="pre">self</span></code>-based input bindings for optional inputs</a></p></li>
<li><p><a class="reference internal" href="#model-a-one-or-the-other-parameter" id="id5">Model a ‚Äúone-or-the-other‚Äù parameter</a></p></li>
<li><p><a class="reference internal" href="#connect-a-solo-value-to-an-input-that-expects-an-array-of-that-type" id="id6">Connect a solo value to an input that expects an array of that type</a></p></li>
<li><p><a class="reference internal" href="#optional-inputs" id="id7">Optional Inputs üíØ</a></p></li>
<li><p><a class="reference internal" href="#enum-inputs" id="id8">Enum Inputs ‚öúÔ∏è</a></p></li>
<li><p><a class="reference internal" href="#record-inputs" id="id9">Record Inputs üìÄ</a></p></li>
<li><p><a class="reference internal" href="#setting-mutually-exclusive-parameters" id="id10">Setting Mutually Exclusive Parameters</a></p></li>
<li><p><a class="reference internal" href="#setting-booleans" id="id11">Setting Booleans</a></p></li>
<li><p><a class="reference internal" href="#concating-strings-in-inputs" id="id12">Concating Strings in Inputs</a></p></li>
<li><p><a class="reference internal" href="#cwltool-errors-due-to-filenames-with-space-characters-inside" id="id13"><code class="docutils literal notranslate"><span class="pre">cwltool</span></code> errors due to filenames with space characters inside</a></p></li>
<li><p><a class="reference internal" href="#cwl-parameter-reference-error-due-to-hyphen-in-input-identifier" id="id14">CWL Parameter Reference error due to hyphen in input identifier</a></p></li>
<li><p><a class="reference internal" href="#use-cwl-and-cwltool-with-singularity" id="id15">Use CWL and cwltool with Singularity</a></p></li>
<li><p><a class="reference internal" href="#debug-javascript-expressions" id="id16">Debug JavaScript expressions</a></p></li>
</ul>
</nav>
<section id="non-file-types-using-evalfrom">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.1. </span>Non ‚Äú<code class="docutils literal notranslate"><span class="pre">File</span></code>‚Äù types using <code class="docutils literal notranslate"><span class="pre">evalFrom</span></code></a><a class="headerlink" href="#non-file-types-using-evalfrom" title="Permalink to this heading">#</a></h2>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w">  </span><span class="c1"># or v1.1</span><span class="w"></span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CommandLineTool</span><span class="w"></span>
<span class="nt">requirements</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">InlineJavascriptRequirement</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>

<span class="nt">baseCommand</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">echo</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;42&quot;</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w"></span>

<span class="nt">inputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>

<span class="nt">stdout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number.txt</span><span class="w"></span>

<span class="nt">outputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">my_number</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">int</span><span class="w"></span>
<span class="w">    </span><span class="nt">outputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">       </span><span class="nt">glob</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number.txt</span><span class="w"></span>
<span class="w">       </span><span class="nt">loadContents</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w"></span>
<span class="w">       </span><span class="nt">outputEval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(parselnt(self[0].contents))</span><span class="w"></span>

<span class="w">  </span><span class="nt">my_number_as_string</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">string</span><span class="w"></span>
<span class="w">    </span><span class="nt">outputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">       </span><span class="nt">glob</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my_number.txt</span><span class="w"></span>
<span class="w">       </span><span class="nt">loadContents</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w"></span>
<span class="w">       </span><span class="nt">outputEval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(self[0].contents)</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="rename-an-input-file">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.2. </span>Rename an input file</a><a class="headerlink" href="#rename-an-input-file" title="Permalink to this heading">#</a></h2>
<p>This example shows how you can change the name of an input file
as part of a tool description.
This could be useful when you are taking files produced from another
step in a workflow and don‚Äôt want to work with the default names that these
files were given when they were created.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">requirements</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">InitialWorkDirRequirement</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">listing</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">entry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(inputs.src1)</span><span class="w"></span>
<span class="w">        </span><span class="nt">entryName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">newName</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">entry</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(inputs.src2)</span><span class="w"></span>
<span class="w">        </span><span class="nt">entryName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(inputs.src1.basename)_custom_extension</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="rename-an-output-file">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.3. </span>Rename an output file</a><a class="headerlink" href="#rename-an-output-file" title="Permalink to this heading">#</a></h2>
<p>This example shows how you can change the name an output file
from the default name given to it by a tool:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"> </span><span class="c1"># or v1.1</span><span class="w"></span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CommandLineTool</span><span class="w"></span>
<span class="nt">requirements</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">InlineJavascriptRequirement</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>

<span class="nt">baseCommand</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>

<span class="nt">inputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>

<span class="nt">outputs</span><span class="p">:</span><span class="w"></span>
<span class="w"> </span><span class="nt">otu_table</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>
<span class="w">    </span><span class="nt">outputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">glob</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">otu_table.txt</span><span class="w"></span>
<span class="w">      </span><span class="nt">outputEval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${self[0].basename=inputs.otu_table_name; return self;}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="setting-self-based-input-bindings-for-optional-inputs">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.4. </span>Setting <code class="docutils literal notranslate"><span class="pre">self</span></code>-based input bindings for optional inputs</a><a class="headerlink" href="#setting-self-based-input-bindings-for-optional-inputs" title="Permalink to this heading">#</a></h2>
<p>Currently, <code class="docutils literal notranslate"><span class="pre">cwltool</span></code> can‚Äôt cope with missing optional inputs if their
input binding makes use of <code class="docutils literal notranslate"><span class="pre">self</span></code>.
Below is an example workaround for this,
pending a more sophisticated fix.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1">#!/usr/bin/env cwl-runner</span><span class="w"></span>
<span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"></span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CommandLineTool</span><span class="w"></span>

<span class="nt">requirements</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{</span><span class="nt"> InlineJavascriptRequirement</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"> </span><span class="p p-Indicator">}</span><span class="w"></span>

<span class="nt">inputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">cfg</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File?</span><span class="w"></span>
<span class="w">    </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">-cfg</span><span class="w"></span>
<span class="w">      </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">        </span><span class="no">${ if(self === null) { return null;} else { return self.basename; } }</span><span class="w"></span>

<span class="nt">baseCommand</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo</span><span class="w"></span>

<span class="nt">outputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="model-a-one-or-the-other-parameter">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.5. </span>Model a ‚Äúone-or-the-other‚Äù parameter</a><a class="headerlink" href="#model-a-one-or-the-other-parameter" title="Permalink to this heading">#</a></h2>
<p>Below is an example of how
you can specify different strings to be added to a command line
based on the value given to a Boolean parameter.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"></span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CommandLineTool</span><span class="w"></span>
<span class="nt">requirements</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">InlineJavascriptRequirement</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
<span class="nt">inputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">fancy_bool</span><span class="p">:</span><span class="w"></span>
<span class="w">     </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span><span class="w"></span>
<span class="w">     </span><span class="nt">default</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w">  </span><span class="c1"># or true</span><span class="w"></span>
<span class="w">     </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${if (self) { return &quot;foo&quot;;} else { return &quot;bar&quot;;}}</span><span class="w"></span>

<span class="nt">baseCommand</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">echo</span><span class="w"></span>

<span class="nt">outputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="connect-a-solo-value-to-an-input-that-expects-an-array-of-that-type">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.6. </span>Connect a solo value to an input that expects an array of that type</a><a class="headerlink" href="#connect-a-solo-value-to-an-input-that-expects-an-array-of-that-type" title="Permalink to this heading">#</a></h2>
<p>Using <a class="reference external" href="https://www.commonwl.org/v1.0/Workflow.html#MultipleInputFeatureRequirement"><code class="docutils literal notranslate"><span class="pre">MultipleInputFeatureRequirement</span></code></a>
along with
<a class="reference external" href="https://www.commonwl.org/v1.0/Workflow.html#WorkflowStepInput"><code class="docutils literal notranslate"><span class="pre">linkMerge:</span> <span class="pre">merge_nested</span></code></a></p>
<blockquote>
<div><p>merge_nested</p>
<p>The input must be an array consisting of exactly one entry for each input link.
If ‚Äúmerge_nested‚Äù is specified with a single link, the value from the link must be wrapped in a single-item list.</p>
</div></blockquote>
<p>Which means ‚Äúcreate a list with exactly these sources as elements‚Äù</p>
<p>Or in other words: if the destination is of type <code class="docutils literal notranslate"><span class="pre">File[]</span></code> (an array of <code class="docutils literal notranslate"><span class="pre">File</span></code>s)
and the source is a single <code class="docutils literal notranslate"><span class="pre">File</span></code> then add <code class="docutils literal notranslate"><span class="pre">MultipleInputFeatureRequirement</span></code> to the Workflow level <code class="docutils literal notranslate"><span class="pre">requirements</span></code>
and add <code class="docutils literal notranslate"><span class="pre">linkMerge:</span> <span class="pre">merge_nested</span></code> under the appropriate <code class="docutils literal notranslate"><span class="pre">in</span></code> entry of the destination step.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"></span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Workflow</span><span class="w"></span>

<span class="nt">requirements</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">MultipleInputFeatureRequirement</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>

<span class="nt">inputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">readme</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>

<span class="nt">steps</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">first</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">tests/checker_wf/cat.cwl</span><span class="w"></span>
<span class="w">    </span><span class="nt">in</span><span class="p">:</span><span class="w"></span>
<span class="w">     </span><span class="nt">cat_in</span><span class="p">:</span><span class="w">  </span><span class="c1"># type is File[]</span><span class="w"></span>
<span class="w">       </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="w"> </span><span class="nv">readme</span><span class="w"> </span><span class="p p-Indicator">]</span><span class="w">  </span><span class="c1"># but the source is of type File</span><span class="w"></span>
<span class="w">       </span><span class="nt">linkMerge</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">merge_nested</span><span class="w"></span>
<span class="w">    </span><span class="nt">out</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">txt</span><span class="p p-Indicator">]</span><span class="w"></span>

<span class="nt">outputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">result</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>
<span class="w">    </span><span class="nt">outputSource</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">first/txt</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="optional-inputs">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.7. </span>Optional Inputs üíØ</a><a class="headerlink" href="#optional-inputs" title="Permalink to this heading">#</a></h2>
<p>To make an input parameter optional, add a question mark to the type declaration.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">inputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">InputRead1</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>
<span class="w">    </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w"></span>

<span class="w">  </span><span class="c1">#Optional Inputs</span><span class="w"></span>
<span class="w">  </span><span class="nt">isCasava</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean?</span><span class="w"></span>
<span class="w">    </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">1</span><span class="w"></span>
<span class="w">      </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--casava&quot;</span><span class="w"></span>
</pre></div>
</div>
<p><a name="enuminputs"></a></p>
</section>
<section id="enum-inputs">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.8. </span>Enum Inputs ‚öúÔ∏è</a><a class="headerlink" href="#enum-inputs" title="Permalink to this heading">#</a></h2>
<p>For commandline flags that require a specific input as the argument an enum type can be declared in CWL. <strong>Specifying null here is known as long form style. It does the same thing as the question mark on the other inputs.</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">Format</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">type</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">enum</span><span class="w"></span>
<span class="w">      </span><span class="nt">symbols</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bam</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sam</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bam_mapped</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sam_mapped</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">fastq</span><span class="w"></span>
<span class="w">  </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">position</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span><span class="w"></span>
<span class="w">    </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--format&quot;</span><span class="w"></span>
</pre></div>
</div>
<p><a name="recordinputs"></a></p>
</section>
<section id="record-inputs">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.9. </span>Record Inputs üìÄ</a><a class="headerlink" href="#record-inputs" title="Permalink to this heading">#</a></h2>
<p>For commandline flags that are either <strong>mutually exclusive</strong> or <strong>dependent</strong> a special record type can be defined. You can also specify null here to create optional inputs.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1">#Using record inputs to create mutually exclusive inputs</span><span class="w"></span>

<span class="w">  </span><span class="nt">Strand</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">record</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">forward</span><span class="w"></span>
<span class="w">        </span><span class="nt">fields</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">forward</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span><span class="w"></span>
<span class="w">              </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--fr-stranded&quot;</span><span class="w"></span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">record</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reverse</span><span class="w"></span>
<span class="w">        </span><span class="nt">fields</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">reverse</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span><span class="w"></span>
<span class="w">            </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--rf-stranded&quot;</span><span class="w"></span>

<span class="w">  </span><span class="nt">PseudoBam</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean?</span><span class="w"></span>
<span class="w">    </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--pseudobam&quot;</span><span class="w"></span>

<span class="c1">#Using record inputs to create dependent inputs</span><span class="w"></span>

<span class="w">  </span><span class="nt">GenomeBam</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;null&quot;</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">record</span><span class="w"></span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">genome_bam</span><span class="w"></span>
<span class="w">        </span><span class="nt">fields</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">genomebam</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">boolean</span><span class="w"></span>
<span class="w">            </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--genomebam&quot;</span><span class="w"></span>

<span class="w">          </span><span class="nt">gtf</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>
<span class="w">            </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--gtf&quot;</span><span class="w"></span>

<span class="w">          </span><span class="nt">chromosomes</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>
<span class="w">            </span><span class="nt">inputBinding</span><span class="p">:</span><span class="w"></span>
<span class="w">              </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;--chromosomes&quot;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="setting-mutually-exclusive-parameters">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.10. </span>Setting Mutually Exclusive Parameters</a><a class="headerlink" href="#setting-mutually-exclusive-parameters" title="Permalink to this heading">#</a></h2>
<p>In order to properly set fields in a record input type, you need to pass a dictionary to the input to properly set the parameters. This is done by using inline javascript and returning the dictionary with the key of the field you want to set. The source field is set to indicate the input from the workflow to be used as the value.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">steps</span><span class="p">:</span><span class="w"></span>

<span class="w">  </span><span class="nt">build_hisat2_index</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">../Tools/Hisat2-Index.cwl</span><span class="w"></span>
<span class="w">    </span><span class="nt">in</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">InputFiles</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FastaFiles</span><span class="w"></span>
<span class="w">        </span><span class="nt">valueFrom </span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">          </span><span class="no">${return {&quot;fasta&quot;: self};}</span><span class="w"></span>

<span class="w">      </span><span class="nt">IndexName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">IndexName</span><span class="w"></span>

<span class="w">    </span><span class="nt">out</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">indexes</span><span class="p p-Indicator">]</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="setting-booleans">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.11. </span>Setting Booleans</a><a class="headerlink" href="#setting-booleans" title="Permalink to this heading">#</a></h2>
<p>These can be set by using the default field</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">input</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="l l-Scalar l-Scalar-Plain">default:true</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="concating-strings-in-inputs">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.12. </span>Concating Strings in Inputs</a><a class="headerlink" href="#concating-strings-in-inputs" title="Permalink to this heading">#</a></h2>
<p>The valueFrom field must be used instead of default.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">input</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span><span class="w"></span>
<span class="w">     </span><span class="no">My String: $(input.stringvalue)</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="cwltool-errors-due-to-filenames-with-space-characters-inside">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.13. </span><code class="docutils literal notranslate"><span class="pre">cwltool</span></code> errors due to filenames with space characters inside</a><a class="headerlink" href="#cwltool-errors-due-to-filenames-with-space-characters-inside" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cwltool</span></code> does not allow some characters in filenames by default.</p>
<p>For example, the filename is <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">space</span> <span class="pre">is</span> <span class="pre">here.txt</span></code> includes 3 space characters.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">ERROR Workflow error, try again with --debug for more information:</span>

<span class="go">Invalid filename: &#39;a space is here.txt&#39; contains illegal characters</span>
</pre></div>
</div>
<p>If you can not avoid these dangerous characters, then pass <code class="docutils literal notranslate"><span class="pre">--relax-path-checks</span></code> to <code class="docutils literal notranslate"><span class="pre">cwltool</span></code>.</p>
</section>
<section id="cwl-parameter-reference-error-due-to-hyphen-in-input-identifier">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.14. </span>CWL Parameter Reference error due to hyphen in input identifier</a><a class="headerlink" href="#cwl-parameter-reference-error-due-to-hyphen-in-input-identifier" title="Permalink to this heading">#</a></h2>
<p>If <code class="docutils literal notranslate"><span class="pre">cwltool</span> <span class="pre">--validate</span></code> returns valid</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cwltool --validate cwl/qiime.cwl
<span class="go">INFO /usr/local/bin/cwltool 1.0.20190831161204</span>
<span class="go">INFO Resolved &#39;cwl/qiime.cwl&#39; to &#39;file:///workspace/cwl/qiime.cwl&#39;</span>
<span class="go">cwl/qiime.cwl is valid CWL.</span>
</pre></div>
</div>
<p>But executing it causes an error like:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cwltool cwl/qiime.cwl --sample-input metadata.tsv
<span class="go">INFO /usr/local/bin/cwltool 1.0.20190831161204</span>
<span class="go">INFO Resolved &#39;cwl/qiime.cwl&#39; to &#39;file:///workspace/cwl/qiime.cwl&#39;</span>
<span class="go">ERROR Workflow error, try again with --debug for more information:</span>
<span class="go">cwl/qiime.cwl:14:5: Expression evaluation error:</span>
<span class="go">                    Syntax error in parameter reference &#39;(inputs.sample-input)&#39;. This could be due</span>
<span class="go">                    to using Javascript code without specifying InlineJavascriptRequirement.</span>
</pre></div>
</div>
<p>The file is here</p>
<div class="highlight-cwl notranslate"><div class="highlight"><pre><span></span><span class="nt">cwlVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1.0</span><span class="w"></span>
<span class="nt">class</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">CommandLineTool</span><span class="w"></span>
<span class="nt">baseCommand</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">qiime</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">metadata</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">tabulate</span><span class="p p-Indicator">]</span><span class="w"></span>
<span class="nt">arguments</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">prefix</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">--m-input-file</span><span class="w"></span>
<span class="w">    </span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(inputs.sample-input)</span><span class="w"></span>
<span class="nt">inputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">sample-input</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>
<span class="nt">outputs</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span><span class="w"></span>
</pre></div>
</div>
<p>Problem caused by <code class="docutils literal notranslate"><span class="pre">-</span></code> (hyphen character).</p>
<div class="highlight-cwl notranslate"><div class="highlight"><pre><span></span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(inputs.sample-input)</span><span class="w"></span>
<span class="w">                        </span><span class="l l-Scalar l-Scalar-Plain"># ^ this is problem</span><span class="w"></span>
<span class="nn">...</span><span class="w"></span>

<span class="nt">inputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">sample-input</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain"># ^ this is problem</span><span class="w"></span>
</pre></div>
</div>
<p>Fix this error is change <code class="docutils literal notranslate"><span class="pre">-</span></code> (hyphen) to <code class="docutils literal notranslate"><span class="pre">_</span></code> (underscore)</p>
<div class="highlight-cwl notranslate"><div class="highlight"><pre><span></span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(inputs.sample_input)</span><span class="w"></span>
<span class="w">                        </span><span class="l l-Scalar l-Scalar-Plain"># ^ changed here</span><span class="w"></span>

<span class="nn">...</span><span class="w"></span>

<span class="nt">inputs</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">sample_input</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">File</span><span class="w"></span>
<span class="w">      </span><span class="l l-Scalar l-Scalar-Plain"># ^ changed here</span><span class="w"></span>
</pre></div>
</div>
<p>If is not possible to change the input identifier, then you can use an alternative CWL Parameter Reference syntax:</p>
<div class="highlight-cwl notranslate"><div class="highlight"><pre><span></span><span class="nt">valueFrom</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">$(inputs[&quot;sample-input&quot;])</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="use-cwl-and-cwltool-with-singularity">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.15. </span>Use CWL and cwltool with Singularity</a><a class="headerlink" href="#use-cwl-and-cwltool-with-singularity" title="Permalink to this heading">#</a></h2>
<!-- https://matrix.to/#/!RQMxrGNGkeDmWHOaEs:gitter.im/$f1B-ytoep4PX3_tTgxaADRQFHGgisGiUL1nUHVQPBnY?via=gitter.im&via=matrix.org&via=gottliebtfreitag.de -->
<p>The CWL standards are built around (optional) Docker format containers.
The reference runner and several other CWL implementations support running
those Docker format containers using the Singularity engine. Directly
specifying a Singularity format container is not part of the CWL standards.</p>
</section>
<section id="debug-javascript-expressions">
<h2><a class="toc-backref" href="#contents" role="doc-backlink"><span class="section-number">4.16. </span>Debug JavaScript expressions</a><a class="headerlink" href="#debug-javascript-expressions" title="Permalink to this heading">#</a></h2>
<p>You can use the <code>‚Äìjs-console</code> option of <code>cwltool</code>, or you can try
creating a JavaScript or TypeScript project for your code, and load it
using <code>expressionLib</code>, e.g.: <a href="https://github.com/common-workflow-language/common-workflow-language/blob/master/v1.0/v1.0/template-tool.cwl#L6-L8">
https://github.com/common-workflow-language/common-workflow-language/blob/master/v1.0/v1.0/template-tool.cwl#L6-L8</a></dd></p>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="tutorials.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title"><span class="section-number">3. </span>Tutorials</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="LICENSE.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title"><span class="section-number">5. </span>Licenses</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<div class="container">
  <div class="row">
    <div class="col d-flex flex-row-reverse">
      <ul class="nav">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/blob/main/CONTRIBUTING.md">Contributing</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/">Source</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/common-workflow-language/user_guide/blob/main/CITATION">Cite</a>
        </li>
      </ul>
    </div>
  </div>
</div>


<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2013, CWL Project Team.<br>
</p>
  </div>
  
</div>
</footer>

  </body>
</html>